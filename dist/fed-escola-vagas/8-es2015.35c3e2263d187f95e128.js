(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{DT2Y:function(t,e,o){"use strict";o.r(e),o.d(e,"LoginModule",function(){return L});var n=o("ofXK"),i=o("tyNb"),r=o("3Pt+"),a=o("quSY"),s=o("LuMM"),c=o("h3Yp"),l=o("pj3a"),m=o("2Vo4"),u=o("fXoL");let b=(()=>{class t{constructor(){this.onLoadBehavior=new m.a(null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=o("CN8f"),d=o("Wp6s"),h=o("kmnG"),p=o("qFsG"),f=o("bTqV"),v=o("q5Bh");function w(t,e){if(1&t&&u.Rb(0,"card-alert",16),2&t){const t=u.gc();u.mc("tipo",t.mensagemRespostaLogin.tipo),u.mc("codigo",t.mensagemRespostaLogin.codigo),u.mc("mensagem",t.mensagemRespostaLogin.mensagem)}}const C=[{path:"",component:(()=>{class t{constructor(t,e,o,n){this.service=t,this.auth=e,this.router=o,this.onLoadService=n,this.feedv1=!0,this.mensagemRespostaLogin=new l.a,this.subscribeLogin=new a.a(null),this.subscribeMensagem=new a.a(null),this.formControlUsuario=new r.e({emailFormGroup:new r.c,senhaFormGroup:new r.c})}ngOnInit(){this.hideSplash(),sessionStorage.getItem("logout")}onSubmitLogin(){this.formControlUsuario.disable();const{emailFormGroup:t,senhaFormGroup:e}=this.formControlUsuario.controls;this.autenticarWithEmail({email:t.value,senha:e.value})}initiByStorage(){const t=this.auth.getToken();t&&(this.formControlUsuario.controls.emailFormGroup.setValue(t.email),this.formControlUsuario.controls.senhaFormGroup.setValue(t.senha),this.autenticarWithEmail({email:t.email,senha:t.senha}))}autenticarWithEmail(t){this.service.signWithEmail(t.email,t.senha).then(()=>{var e;this.service.behaviorUsuarioLogado.subscribe(e=>{var o;e?(localStorage.setItem("usuario",btoa(JSON.stringify(e))),localStorage.setItem("token",btoa(JSON.stringify(t))),this.router.navigate(this.router.route.FEED),this.mensagemRespostaLogin=null):(this.service.behaviorLoginMensagem.subscribe(t=>{t&&(this.mensagemRespostaLogin=t)}),null===(o=this.subscribeMensagem)||void 0===o||o.unsubscribe())}),null===(e=this.subscribeLogin)||void 0===e||e.unsubscribe()}),this.formControlUsuario.reset(),this.formControlUsuario.enable()}newPassword(){this.router.navigate(this.router.route.REDEFINE_PASSWORD)}newAccoumt(){this.router.navigate(this.router.route.NEW_ACCOUNT)}feed(){this.router.navigate(this.router.route.FEED)}goTo(t){this.router.navigate(t)}ngOnDestroy(){this.service.behaviorUsuarioLogado.next(null)}hideSplash(){setTimeout(()=>{this.onLoadService.onLoadBehavior.next(!0)},500)}}return t.\u0275fac=function(e){return new(e||t)(u.Qb(g.a),u.Qb(s.a),u.Qb(c.a),u.Qb(b))},t.\u0275cmp=u.Kb({type:t,selectors:[["app-login"]],decls:24,vars:2,consts:[[1,"content"],[1,"card"],[1,"card-container"],[1,"logo"],["src","../../../assets/imagens/logo.png","width","60%","alt","Logo Sandra Cosmeticos",2,"border-radius","10px"],[1,"example-form","card-alert"],[3,"tipo","codigo","mensagem",4,"ngIf"],[1,"example-form",3,"formGroup","ngSubmit"],["form","ngForm"],["appearance","fill","color","primary",1,"example-full-width"],["formControlName","emailFormGroup","type","text","matInput",""],["formControlName","senhaFormGroup","type","password","matInput",""],[1,"botao"],["mat-raised-button","","color","primary","type","submit"],["mat-stroked-button","","target","_blank","color","primary",3,"click"],["mat-stroked-button","","target","_blank","color","link",3,"click"],[3,"tipo","codigo","mensagem"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"mat-card",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Rb(4,"img",4),u.Ub(),u.Vb(5,"div",5),u.yc(6,w,1,3,"card-alert",6),u.Ub(),u.Vb(7,"form",7,8),u.cc("ngSubmit",function(){return e.onSubmitLogin()}),u.Vb(9,"mat-form-field",9),u.Vb(10,"mat-label"),u.zc(11,"E-mail"),u.Ub(),u.Rb(12,"input",10),u.Ub(),u.Vb(13,"mat-form-field",9),u.Vb(14,"mat-label"),u.zc(15,"Senha"),u.Ub(),u.Rb(16,"input",11),u.Ub(),u.Vb(17,"div",12),u.Vb(18,"button",13),u.zc(19," Entrar "),u.Ub(),u.Vb(20,"a",14),u.cc("click",function(){return e.newPassword()}),u.zc(21,"Esqueci minha senha"),u.Ub(),u.Vb(22,"a",15),u.cc("click",function(){return e.feed()}),u.zc(23,"Continuar"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Eb(6),u.lc("ngIf",null!=(null==e.mensagemRespostaLogin?null:e.mensagemRespostaLogin.codigo)),u.Eb(1),u.lc("formGroup",e.formControlUsuario))},directives:[d.a,n.l,r.q,r.l,r.f,h.b,h.f,r.b,p.b,r.k,r.d,f.b,f.a,v.a],styles:[".content[_ngcontent-%COMP%]{height:100%;border-radius:4px;border:1px solid #eee;justify-content:center!important}.card-container[_ngcontent-%COMP%]{flex-wrap:wrap;padding:15px}.card[_ngcontent-%COMP%], .card-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.card[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:-moz-max-content;height:max-content;min-height:50%;width:90%;padding:16px;align-items:center;transition:all .2s ease-in-out;line-height:24px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:95%;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.botao[_ngcontent-%COMP%]{justify-content:center}.botao[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.logo[_ngcontent-%COMP%]{align-items:center;margin-bottom:15px;border-radius:90px}a[_ngcontent-%COMP%]{margin-top:20px}input[_ngcontent-%COMP%]{width:95%}div[_ngcontent-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#fafafa}.card-alert[_ngcontent-%COMP%]{margin-bottom:10px}"]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Ob({type:t}),t.\u0275inj=u.Nb({imports:[[i.c.forChild(C)],i.c]}),t})();var U=o("vvyD"),y=o("Tbt5");let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Ob({type:t}),t.\u0275inj=u.Nb({imports:[[n.c,x,U.a,r.g,r.o,y.a]]}),t})()}}]);